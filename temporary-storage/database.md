## データシステム
### 機能要件
- データの保存・検索
- よく参照されるデータの記憶 (キャッシュ)
- キーワード検索

### 非機能要件
- 信頼性: 障害発生時もデータが正しいと保証したい
- スケーラビリティ: 負荷増大に対応したい
- メンテナンス性: 安定したパフォーマンスを提供したい

## クエリ言語
データの問い合わせ(Query)の手段。  SQL , MapReduce ,Cyher。

## ドキュメントモデル
データをJSONとして保存  
スキーマを強制しない、ローカリティ(局所性)に優れている  
結合のサポート(多対多)は弱い、Cloud: Fire base  

## スキーマ
スキーマオンリード: スキーマを強制しない。データ構造は暗黙的  
スキーマオンライト: スキーマを明示する必要がる。マイグレーションが必要。

## レプリケーション
複数のマシンに同じデータのコピーを保持しておくこと  
目的  
- レイテンシを下げる
- 障害があってもシステムを動作させる
- スケールアウトさせる（スループットの向上）
3つのアプローチ  
- シングルリーダー(書き込み用と読み込み用)
- マルチリーダー
- リーダーレス
トレードオフ  
- 同期か非同期か
- 障害を起こしたレプリカの扱いをどうするか

## パーティショニング
データを分割して保存  
目的  
スケーラビリティ向上（クエリの負荷分散）  
良いパーティショニングは、偏りが少ないこと  

## トランザクション
複数の読み書きを一つの論理的な単位としてまとめる方法  
成功(commit) or 失敗(rollback)のどちらか。  
トランザクションでの一貫性とパフォーマンスはトレードオフ  
=>トランザクション分散レベル
=>並列処理が直列で実行した時と同じ結果になること
　　
