
## Print
```go
fmt.Print("改行なし")
fmt.Println("改行あり")
fmt.Printf(" 名前: %s, 年齢: %d 歳\n", name, age)
```

<details>
  <summary>フォーマット指定子</summary>
  
|フォーマット指定子|説明|
|---|---|
|`%v`|デフォルトの形式で変数の値を表示|
|`%#v`|Go言語表記で変数の値を表示|
|`%t`|真偽値 (true/false)|
|`%d`|整数|
|`%s`|文字列|
|`%c`|文字|
|`%f`|浮動小数点数 (デフォルト形式)|
|`%F`|浮動小数点数 (デフォルト形式)|
|`%e`|浮動小数点数 (指数形式)|
|`%E`|浮動小数点数 (指数形式)|
|`%g`|`%f` または `%e` のどちらか、自動選択|
|`%b`|2進数|
|`%o`|8進数|
|`%O`|0o で始まる8進数|
|`%x`|16進数 (小文字)|
|`%X`|16進数 (大文字)|
|`%U`|Unicode 表示|
|`%p`|ポインタ|
|`%q`|引用符付き文字列 ("...")|
|`%T`|型の表示|
|`%%`|パーセント記号 (%)|

</details>

## 基本
```go
//　変数
var a1 int
var a2 =123
a3 := 123

// 定数
const foo = 100

// 配列
a1 := [3]string{}
a1[0] = "Red"
a2 := [...]string{"Red", "Green", "Blue"}

// スライス(個数不定の配列)
// メモリ効率や速度は若干落ちる
a1 := []string{}
a1 = append(a1, "Red") // 追加
len(a)  // 長さを求める
cap(a) // 容量を求める

bufa := make([]byte, 0, 1024) // スライスの容量を定義時に確保する(容量超過時の再確保を減らして速度を速める)

// マップ
a1 := map[string]int{
    "x": 100,
    "y": 200,
}

a1["z"] = 300  // 追加 
delete(a1, "z")  // 削除
_, ok := a1["z"]　 // 指定した値が存在するかどうかの判定(boolean)

// マップのループ処理
for key, value := range a1{
	fmt.Printf("%s=%d\n, key, value")
}
```

## 構文
```go
// if文
if x > y {
    // 処理1
} else if x < y {
    // 処理2
} else {
    // 処理3
}

// switch文 (break文不要)
switch {
case x > y:
    // 処理1
case x < y:
    // 処理2
default:
    // 処理3
}

// for文 (break, continue 使用可)
for x < y {
    x++
}

for i :=0; i < 10; i++ {
	// 処理
}

// 条件省略で無限ループ
n := 0
for { 
    n++
    if n > 10 {
        break
    } else if n % 2 == 1 {
        continue
    } else {
        // fmt.Println(n)
    }
}
```

### 例外処理 (Goto文)
```go
package main

import (
    "fmt"
    "errors"
)

func main() {
    funcA()
}

func funcA() (string, error) {
    var err error
    filename := ""
    data := ""

    filename, err = GetFileName()
    if err != nil {
        fmt.Println(err)
        _goto Done_
    }

    data, err = ReadFile(filename)
    if err != nil {
        fmt.Println(err)
        _goto Done_
    }

    fmt.Println(data)

_Done:_
    return data, err
}

func GetFileName() (string, error) {
    return "sample.txt", nil
}

func ReadFile(filename string) (string, error) {
    return "Hello world!", errors.New("Can't read file")
}

```

## ポインタ
[とってもやさしいGo言語入門](https://zenn.dev/ak/articles/1fb628d82ed79b#%E3%83%9D%E3%82%A4%E3%83%B3%E3%82%BF)
```go
a := "a"
ptrA := &a

fmt.Println(ptrA)  // => "0xc00010a210"
fmt.Println(*ptrA) // => "a"
```

## 構造体(struct)
```go
// 型宣言
type Person struct {
    Name string // パッケージ外からアクセス可能
    age int  // パッケージ外からアクセス不可
}

// `Person`インスタンスの設定メソッド
func (p *Person) SetPerson(name string, age int) {
    p.Name = name
    p.age = age
}

// `Person`インスタンスの取得メソッド
func (p *Person) GetPerson() (string, int) {
    return p.Name, p.age
}

func main() {
    var p1 Person  // 初期化
    p1.SetPerson("Yamada", 26)  // 設定
    name, age := p1.GetPerson()  // 取得
    fmt.Printf("%s(%d)\n", name, age) 
}
```

[とってもやさしいGo言語入門](https://zenn.dev/ak/articles/1fb628d82ed79b#%E6%A7%8B%E9%80%A0%E4%BD%93)
```go
type Person struct {
	name       string
	age        int
}

hanako := Person{
	name:       "Tanaka Hanako",
	age:        25,
}

taro := Person{"Yamada Taro", 20}  
```

```go
fmt.Printf("%#v", hanako.name)
 // => "Tanaka Hanako"
```

## メソッド
[とってもやさしいGo言語入門](https://zenn.dev/ak/articles/1fb628d82ed79b#%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E5%86%85%E3%81%8B%E3%82%89%E6%A7%8B%E9%80%A0%E4%BD%93%E3%81%AE%E3%83%95%E3%82%A3%E3%83%BC%E3%83%AB%E3%83%89%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%99%E3%82%8B)
```go
func (レシーバ値 レシーバ型) メソッド名(引数値 引数型) 戻り値の型 {
	// 処理の内容
}
```

### レシーバの注意点
- 値型 ・・・メソッド呼び出し時に「レシーバそのもののコピー」が発生する => **副作用は発生しない**
- ポインタ型 ・・・ ポインタ型のレシーバを受け取るため、メソッド内部で「実体」に対して変更処理を書くことが可能になる


### 値型のレシーバ
```go
func (p Person) Greet() {
	fmt.Printf("Hello, I'm %v.", p.name)
}

func main() {
	hanako := Person{"Tanaka Hanako", 25, "female", 50}
	hanako.Greet() // => Hello, I'm Tanaka Hanako.
}
```

### ポインターレシーバ
```go
func (p *Person) Eat() {
	(*p).weight += 1
}

func main() {
	hanako := Person{"Tanaka Hanako", 25, "female", 50}
	hanako.Eat()
	fmt.Println("食後の体重は", hanako.weight) // => 食後の体重は 51
}
```



